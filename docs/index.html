<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>JSDoc: Home</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link
      type="text/css"
      rel="stylesheet"
      href="styles/prettify-tomorrow.css"
    />
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css" />
  </head>

  <body>
    <div id="main">
      <h1 class="page-title">Home</h1>

      <h3></h3>

      <section>
        <article>
          <h1>Assessment 1 - @leggant</h1>
          <h2>:rocket:Deployment - Heroku</h2>
          <p>
            <a
              href="https://dashboard.heroku.com/pipelines/7e5bc38d-d7f8-4030-9ad7-56505ed294d6"
              >:anchor:<strong>Heroku Deployment Pipeline</strong></a
            >
            <a href="https://in-dev-app.herokuapp.com/"
              >:anchor:<strong>Staging Deployment</strong></a
            >
            <a href="https://api-prod-app.herokuapp.com/"
              >:anchor:<strong>Production Deployment</strong></a
            >
          </p>
          <h2>API Endpoints</h2>
          <p>
            <a href="https://in-dev-app.herokuapp.com/docs/api/v1"
              >:anchor:<strong>API Documentation</strong></a
            >
            <a href="https://api-prod-app.herokuapp.com/docs/api/v1"
              >:anchor:<strong>API Documentation</strong></a
            >
          </p>
          <h2>Postman Project</h2>
          <h2>Entity Relationship Diagram</h2>
          <p>
            :anchor:
            <strong
              ><a
                href="https://lucid.app/lucidchart/d03c09c4-e9c0-4f14-bf42-dceaf7a4e0d8/edit?viewport_loc=-354%2C156%2C3162%2C1102%2C0_0&amp;invitationId=inv_c9acfca4-7f84-4762-87a2-5b0f96bca0ea"
                >Made with Lucidchart</a
              ></strong
            >
          </p>
          <p>
            <img
              src="./docs/imgs/App_Dev_API_ERD.png"
              width="850"
              title="hover text"
            />
          </p>
          <h2>API/Command Line Instructions</h2>
          <h3>Database Seeders</h3>
          <p>
            <em
              >user and category seeders are both available from admin-only
              endpoints</em
            >
          </p>
          <ol>
            <li>
              user seeder endpoint: <code>/user/auth/admin/seeder/players</code>
            </li>
            <li>
              category seeder endpoint:
              <code>/user/auth/admin/seeder/categories</code>
            </li>
          </ol>
          <p>
            <a href="https:%5C/%5C/opentdb.com/api_category.php"
              >https://opentdb.com/api_category.php</a
            >
          </p>
          <h3>Migrate the Database</h3>
          <h4>Seeder GISTS</h4>
          <h4>Development</h4>
          <pre class="prettyprint source lang-node"><code>npm run migrate:dev
</code></pre>
          <h5>Error Handling</h5>
          <p>If this command above outputs the following error:</p>
          <pre class="prettyprint source lang-bash"><code>Error: P3005

The database schema is not empty. Read more about how to baseline an existing production database: https://pris.ly/d/migrate-baseline
</code></pre>
          <p>
            I found the only way to resolve this is to delete the locally stored
            migration file(s). e.g. <code>./prisma/migrations/**</code> Then
            re-run the migration command:
          </p>
          <pre class="prettyprint source lang-node"><code>npm run migrate:dev
</code></pre>
          <h5>Additional Commands</h5>
          <pre
            class="prettyprint source lang-node"
          ><code>npm run reset:dev // reset the database
</code></pre>
          <h4>Production</h4>
          <pre
            class="prettyprint source lang-node"
          ><code>npm run resolve:dev 20221219234050_dev // folder name of the local migration ./prisma/migrations/20221219234050_dev
npm run migrate:prod // this command wil timeout, re-run until successfully completed
</code></pre>
          <h3>Run Docker PostGres DB</h3>
          <ul>
            <li>
              start docker on the local system, run the following command in
              vsCode terminal. This will run a database locally within a
              background process
            </li>
          </ul>
          <pre
            class="prettyprint source lang-bash"
          ><code>docker run --name apipostgresinstance -p 5432:5432 -e POSTGRES_PASSWORD=password -d postgres
</code></pre>
          <ul>
            <li>add the postgres db address to the .env.development file</li>
          </ul>
          <pre
            class="prettyprint source lang-plaintext"
          ><code>DATABASE_URL=&quot;postgres://postgres:password@localhost:5432/apipostgresinstance&quot;
SHADOW_DATABASE_URL=&quot;postgres://postgres:password@localhost:5432/apipostgresinstance&quot;
</code></pre>
          <ul>
            <li>run a test migration with the following command</li>
          </ul>
          <pre class="prettyprint source lang-bash"><code>npx prisma db push
</code></pre>
          <h2>Gist Links</h2>
          <p><strong>Note: more users added than required.</strong></p>
          <ul>
            <li>
              :anchor:
              <a
                href="https://gist.github.com/leggant/0bba24ff5402123c0a1301df853c5541"
                >End-point for Basic Users</a
              >
            </li>
            <li>
              :anchor:
              <a
                href="https://gist.github.com/leggant/55140b7528dae48661395db873568dfe"
                >End-point for Admin Users</a
              >
            </li>
          </ul>
          <h2>:bookmark_tabs:References</h2>
          <ul>
            <li>
              :anchor:
              <a
                href="https:%5C/%5C/www.freecodecamp.org/news/the-express-handbook"
                >https://www.freecodecamp.org/news/the-express-handbook</a
              >
            </li>
            <li>
              :anchor:
              <a
                href="https:%5C/%5C/express-validator.github.io/docs/index.html"
                >https://express-validator.github.io/docs/index.html</a
              >
            </li>
            <li>
              :anchor:
              <a href="https:%5C/%5C/youtu.be/YK-GurROGIg"
                >https://youtu.be/YK-GurROGIg</a
              >
              <a
                href="https://github.com/otago-polytechnic-bit-courses/assessment-1-node-js-restful-api-leggant/issues/12"
                >#12</a
              >
            </li>
            <li>
              :anchor:
              <a
                href="https:%5C/%5C/blog.devgenius.io/validating-user-inputs-on-your-express-js-application-with-express-validator-4d82b995f524"
                >https://blog.devgenius.io/validating-user-inputs-on-your-express-js-application-with-express-validator-4d82b995f524</a
              >
            </li>
            <li>
              :anchor:
              <a
                href="https:%5C/%5C/www.w3schools.com/jsref/jsref_startswith.asp"
                >https://www.w3schools.com/jsref/jsref_startswith.asp</a
              >
            </li>
            <li>
              :anchor:
              <a href="https:%5C/%5C/www.youtube.com/watch?v=7i7xmwowwCY"
                >https://www.youtube.com/watch?v=7i7xmwowwCY</a
              >
            </li>
            <li>
              :anchor:
              <a
                href="https:%5C/%5C/stackoverflow.com/questions/1050720/how-to-add-hours-to-a-date-object"
                >https://stackoverflow.com/questions/1050720/how-to-add-hours-to-a-date-object</a
              >
            </li>
            <li>
              :anchor: <strong>database seeder</strong>
              <a
                href="https:%5C/%5C/www.prisma.io/docs/guides/database/seed-database#example-seed-scripts"
                >https://www.prisma.io/docs/guides/database/seed-database#example-seed-scripts</a
              >
            </li>
            <li>
              :anchor:
              <a
                href="https:%5C/%5C/stackoverflow.com/questions/69526209/prisma-how-can-i-update-only-some-of-the-models-fields-in-update"
                >https://stackoverflow.com/questions/69526209/prisma-how-can-i-update-only-some-of-the-models-fields-in-update</a
              >
            </li>
            <li>
              :anchor:
              <a
                href="https:%5C/%5C/bobbyhadz.com/blog/javascript-check-if-object-is-empty"
                >https://bobbyhadz.com/blog/javascript-check-if-object-is-empty</a
              >
            </li>
            <li>
              :anchor: get first key/value from object
              <a href="https:%5C/%5C/stackoverflow.com/a/56969714"
                >https://stackoverflow.com/a/56969714</a
              >
            </li>
            <li>
              :anchor: testing axios functions from the commandline using
              <code>run-func</code> npm package
              <ul>
                <li>
                  <a href="https:%5C/%5C/stackoverflow.com/a/43598047"
                    >https://stackoverflow.com/a/43598047</a
                  >
                </li>
                <li>
                  using the command:
                  <code>npx run-func ./utils/axiosRequests.js getUsers</code>
                  and
                </li>
                <li>
                  <code
                    >npx env-cmd -f .env.development npx run-func
                    ./api/v1/controllers/seeder_controller.js seedUsers</code
                  >
                </li>
              </ul>
            </li>
            <li>
              :anchor: get object count -
              <a
                href="https:%5C/%5C/www.geeksforgeeks.org/find-the-length-of-a-javascript-object"
                >https://www.geeksforgeeks.org/find-the-length-of-a-javascript-object</a
              >
            </li>
            <li>
              :anchor: get specific values from array of objects
              <ul>
                <li>
                  <a
                    href="https:%5C/%5C/www.designcise.com/web/tutorial/how-to-extract-specific-keys-values-from-an-array-of-objects-in-javascript"
                    >https://www.designcise.com/web/tutorial/how-to-extract-specific-keys-values-from-an-array-of-objects-in-javascript</a
                  >
                </li>
              </ul>
            </li>
            <li>
              <a href="https:%5C/%5C/stackoverflow.com/a/8016205"
                >https://stackoverflow.com/a/8016205</a
              >
            </li>
            <li>
              <a
                href="https:%5C/%5C/developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/now#try_it"
                >https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/now#try_it</a
              >
            </li>
            <li>
              filter objects by key:
              <a
                href="https:%5C/%5C/masteringjs.io/tutorials/fundamentals/filter-key"
                >https://masteringjs.io/tutorials/fundamentals/filter-key</a
              >
            </li>
            <li>
              <a
                href="https:%5C/%5C/hackernoon.com/how-to-update-object-key-values-using-javascript"
                >https://hackernoon.com/how-to-update-object-key-values-using-javascript</a
              >
            </li>
            <li>
              <code>npx run-func ./utils/axiosRequests.js getCategories</code>
            </li>
            <li>
              <code>npx run-func ./utils/dateTimeCheck.js getCategories</code>
            </li>
            <li>
              quiz date checks:
              <a href="https:%5C/%5C/youtu.be/oOK3UzLJ_Cs"
                >https://youtu.be/oOK3UzLJ_Cs</a
              >
              - testing:
              <code
                >npx run-func ./utils/dateTimeCheck.js quizDateValid 27 12
                2022</code
              >
              and
              <code
                >npx run-func ./utils/dateTimeCheck.js quizEnddateValid 24 12
                2022 30 12 2022</code
              >
            </li>
            <li>
              <a href="https:%5C/%5C/stackoverflow.com/a/3367429"
                >https://stackoverflow.com/a/3367429</a
              >
              Get epoch for a specific date using Javascript
            </li>
            <li>
              <a href="https:%5C/%5C/stackoverflow.com/a/61505926"
                >https://stackoverflow.com/a/61505926</a
              >
              MONTHS in JavaScript Dates starts in zero (0 = January, 11 =
              December)
            </li>
            <li>
              <a
                href="https:%5C/%5C/developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/getUTCDate#try_it"
                >https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/getUTCDate#try_it</a
              >
            </li>
            <li>
              <code
                >npx run-func ./utils/dateTimeCheck.js playerCanParticipate
                2022-12-30T20:26:46Z 2022-12-30T20:26:46Z</code
              >
            </li>
            <li>
              <code
                >npx run-func ./utils/dateTimeCheck.js playerCanParticipate
                2022-12-30T20:26:46Z 2022-12-30T20:26:46Z</code
              >
            </li>
            <li>
              <a href="https:%5C/%5C/stackoverflow.com/a/65724578"
                >https://stackoverflow.com/a/65724578</a
              >
            </li>
            <li>
              <a
                href="https:%5C/%5C/www.delftstack.com/howto/javascript/javascript-decode-html-entities/#decode-html-entities-using-vanilla-javascript"
                >https://www.delftstack.com/howto/javascript/javascript-decode-html-entities/#decode-html-entities-using-vanilla-javascript</a
              >
            </li>
            <li>
              <code
                >npx run-func ./utils/unescapeString.js default
                &quot;What&amp;#039;s Harry Potter&amp;#039;s dad&amp;#039;s
                name?&quot;</code
              >
            </li>
            <li>
              <code
                >npx run-func ./utils/unescapeString.js default &quot;Who was
                the author of the 1954 novel, \&quot;Lord of the
                Flies\&quot;?&quot;</code
              >
            </li>
            <li>
              <code>npx run-func ./utils/calculatePlayerScore.js default</code>
            </li>
            <li>
              <a href="https:%5C/%5C/stackoverflow.com/a/14854851"
                >https://stackoverflow.com/a/14854851</a
              >
              - jsdoc array of objects
            </li>
            <li>
              remove special chars from string
              <a href="https:%5C/%5C/stackoverflow.com/a/16913929"
                >https://stackoverflow.com/a/16913929</a
              >
            </li>
            <li>
              <code
                >npx run-func ./utils/compareAnswerStrings.js default &quot;Bobs
                Burgers, \&quot;Lord of the Flies\&quot;?&quot; &quot;Family
                Guy, \&quot;Lord of the Flies\&quot;?&quot;</code
              >
            </li>
            <li>
              array flattening:
              <a
                href="https:%5C/%5C/www.freecodecamp.org/news/flat-and-flatmap-javascript-array-methods"
                >https://www.freecodecamp.org/news/flat-and-flatmap-javascript-array-methods</a
              >
            </li>
            <li>
              <code>npx run-func ./utils/unitTestDataRequests.js testDate</code>
            </li>
            <li>
              <code
                >npx run-func ./utils/unitTestDataRequests.js
                deleteTestAdminUser</code
              >
            </li>
            <li></li>
          </ul>
        </article>
      </section>
    </div>

    <nav>
      <h2><a href="index.html">Home</a></h2>
      <h3>Modules</h3>
      <ul>
        <li><a href="module-PRISMA.html">PRISMA</a></li>
        <li><a href="module-axiosRequests.html">axiosRequests</a></li>
        <li><a href="module-quizRequests.html">quizRequests</a></li>
        <li><a href="module-userRequests.html">userRequests</a></li>
      </ul>
      <h3>Classes</h3>
      <ul>
        <li><a href="dotenv.html">dotenv</a></li>
        <li><a href="express.html">express</a></li>
      </ul>
      <h3>Tutorials</h3>
      <ul>
        <li><a href="tutorial-api.html">API Endpoints</a></li>
        <li><a href="tutorial-setup.html">Dev Environment Start Guide</a></li>
      </ul>
      <h3>Global</h3>
      <ul>
        <li><a href="global.html#API_VERSION">API_VERSION</a></li>
        <li><a href="global.html#BASE_PATH">BASE_PATH</a></li>
        <li><a href="global.html#SERVER_PORT">SERVER_PORT</a></li>
        <li><a href="global.html#basicUserToken">basicUserToken</a></li>
        <li><a href="global.html#compare">compare</a></li>
        <li>
          <a href="global.html#compareAnswerStrings">compareAnswerStrings</a>
        </li>
        <li><a href="global.html#ctAddQuizPlayer">ctAddQuizPlayer</a></li>
        <li><a href="global.html#dateNow">dateNow</a></li>
        <li>
          <a href="global.html#dbDateStringFromDate">dbDateStringFromDate</a>
        </li>
        <li><a href="global.html#decoded">decoded</a></li>
        <li><a href="global.html#difference">difference</a></li>
        <li><a href="global.html#hashedPassword">hashedPassword</a></li>
        <li><a href="global.html#momentqDate">moment</a></li>
        <li>
          <a href="global.html#mwPlayerAddedToQuiz">mwPlayerAddedToQuiz</a>
        </li>
        <li>
          <a href="global.html#playerCanParticipate">playerCanParticipate</a>
        </li>
        <li><a href="global.html#quizDateFuture">quizDateFuture</a></li>
        <li><a href="global.html#quizDateValid">quizDateValid</a></li>
        <li><a href="global.html#quizEnddateValid">quizEnddateValid</a></li>
        <li><a href="global.html#register">register</a></li>
        <li><a href="global.html#split">split</a></li>
        <li><a href="global.html#splitDate">splitDate</a></li>
        <li><a href="global.html#token">token</a></li>
        <li><a href="global.html#unescapeArray">unescapeArray</a></li>
        <li><a href="global.html#unescapeString">unescapeString</a></li>
      </ul>
    </nav>

    <br class="clear" />

    <footer>
      Documentation generated by
      <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.0</a> on Sat Feb 04
      2023 22:57:37 GMT+1300 (New Zealand Daylight Time)
    </footer>

    <script>
      prettyPrint();
    </script>
    <script src="scripts/linenumber.js"></script>
  </body>
</html>
